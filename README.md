# Приложение для создания структуры проекта

Простое веб-приложение для создания и сохранения структуры проекта в JSON формате.

## Функциональность

- Указание названия проекта
- Выбор из существующих проектов
- Создание иерархической структуры:
  - Неограниченное количество папок и подпапок
  - Неограниченное количество файлов
- Для каждого файла можно указать:
  - Имя файла
  - Описание (что делает файл)
  - Несколько вариантов пар "входные данные -> выходные данные" (мок-данные) в формате JSON
- Сохранение структуры в базу данных PostgreSQL (на сервере) или SQLite (локально)

## Технологии

- Backend: Flask
- Frontend: HTML, CSS, JavaScript (без фреймворков)
- База данных: PostgreSQL (на Railway) или SQLite (локально)

## Установка и запуск локально

1. Убедитесь, что у вас установлен Python 3.6+
2. Клонируйте репозиторий
3. Создайте виртуальное окружение и активируйте его:
```
python -m venv venv
source venv/bin/activate  # На Windows используйте venv\Scripts\activate
```
4. Установите зависимости:
```
pip install -r requirements.txt
```
5. Создайте файл .env на основе .env.example и настройте его
6. Запустите приложение:
```
python app.py
```
7. Откройте в браузере адрес: `http://127.0.0.1:5000`

## Деплой на Railway

1. Создайте аккаунт на [Railway](https://railway.app/)
2. Настройте новый проект, выбрав "Deploy from GitHub repo"
3. Подключите ваш Git-репозиторий
4. В разделе "Variables" настройте следующие переменные окружения:
   - `SECRET_KEY` - секретный ключ для Flask (можно сгенерировать с помощью `python -c "import secrets; print(secrets.token_hex(16))"`)
   - `OPENAI_API_KEY` - API ключ от OpenAI
   - `PRODUCTION` - установите в `True`
5. Railway автоматически добавит переменную `DATABASE_URL` для PostgreSQL
6. Откройте раздел "Settings" и убедитесь, что выбрана команда для запуска: `gunicorn app:app`
7. Дождитесь завершения деплоя и откройте ваше приложение по предоставленному URL

## Функции приложения

- Создание новых проектов
- Выбор существующих проектов из выпадающего списка
- Удаление проектов
- Добавление, удаление и перемещение папок и файлов
- Создание вложенной структуры папок
- Возможность сворачивать/разворачивать папки
- Добавление связанных пар "входные данные -> выходные данные" для каждого файла
- Валидация и форматирование JSON-данных
- Адаптивный интерфейс для мобильных устройств

## Формат данных

Структура данных сохраняется в `data.json` в следующем формате:

```json
{
  "projects": [
    {
      "id": "generated_id",
      "name": "Название проекта",
      "structure": [
        {
          "type": "folder",
          "name": "имя_папки",
          "children": [
            {
              "type": "file",
              "file_name": "имя_файла.py",
              "description": "Описание файла",
              "input_mock": { "пример": "входных данных" },
              "output_mock": { "пример": "выходных данных" },
              "io_pairs": [
                {
                  "input": { "пример": "входных данных" },
                  "output": { "пример": "выходных данных" }
                },
                {
                  "input": { "другой": "пример входных данных" },
                  "output": { "другой": "пример выходных данных" }
                }
              ]
            }
          ]
        },
        {
          "type": "file",
          "file_name": "имя_файла.py",
          "description": "Описание файла",
          "input_mock": { "пример": "входных данных" },
          "output_mock": { "пример": "выходных данных" },
          "io_pairs": [
            {
              "input": { "пример": "входных данных" },
              "output": { "пример": "выходных данных" }
            },
            {
              "input": { "другой": "пример входных данных" },
              "output": { "другой": "пример выходных данных" }
            }
          ]
        }
      ]
    }
  ]
}
```

## Управление парами "входные данные -> выходные данные"

Для каждого файла теперь можно указать несколько вариантов пар "входные данные -> выходные данные":

1. Используйте кнопку "Добавить вариант входных/выходных данных" для создания дополнительных пар моков
2. Каждая пара отображает связь между входными и выходными данными для определенного сценария
3. Каждая пара моков имеет уникальный номер (Вариант 1, Вариант 2, ...)
4. Вы можете удалять варианты, если они не нужны (кроме одного обязательного)
5. Все моки должны быть в правильном JSON формате

Такая структура особенно полезна для:
- Документирования ожидаемого поведения функций и компонентов
- Описания преобразований данных между входом и выходом
- Тестирования разных сценариев работы приложения
- Создания тестовых случаев для автоматического тестирования

Данная функциональность особенно полезна для тестирования различных сценариев работы с данными и для документирования ожидаемого поведения приложения. 